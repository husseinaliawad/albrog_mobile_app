# 📱 دليل تشغيل تطبيق البروج العقاري - Flutter

## 🎯 الهدف
هذا الدليل سيساعدك في ربط تطبيق Flutter بـ API الحقيقي لشركة البروج العقاري.

## ✅ المتطلبات الأساسية

### 1. تثبيت Flutter
```bash
# تحميل Flutter SDK
# https://docs.flutter.dev/get-started/install

# التحقق من التثبيت
flutter doctor
```

### 2. تثبيت Android Studio / VS Code
- Android Studio للتطوير الكامل
- VS Code مع إضافة Flutter للتطوير السريع

### 3. جهاز محاكي أو هاتف حقيقي
```bash
# التحقق من الأجهزة المتاحة
flutter devices
```

## 🚀 خطوات التشغيل

### الخطوة 1: تحضير المشروع
```bash
# الانتقال لمجلد المشروع
cd "albrog_mobile_app"

# تحميل التبعيات
flutter pub get

# تنظيف المشروع (اختياري)
flutter clean
flutter pub get
```

### الخطوة 2: التحقق من API
1. افتح ملف `test_api.html` في المتصفح
2. اختبر جميع نقاط الاتصال (endpoints)
3. تأكد من أن API يعمل بشكل صحيح

أو اختبر مباشرة:
- https://albrog.com/api/ - حالة API
- https://albrog.com/api/properties/featured - العقارات المميزة
- https://albrog.com/api/properties/recent - العقارات الحديثة

### الخطوة 3: تشغيل التطبيق
```bash
# تشغيل في وضع التطوير
flutter run

# أو للإنتاج
flutter run --release
```

## 🔧 إعدادات API

### ملف التكوين الحالي
في `lib/services/api_service.dart`:
```dart
static const String baseUrl = 'https://albrog.com/api';
```

### اختبار الاتصال
التطبيق مُعد للعمل مع:
- ✅ البيانات الحقيقية من API
- 🔄 البيانات التجريبية كـ fallback
- 📱 معالجة الأخطاء والاتصال

## 📊 ميزات التطبيق

### الصفحة الرئيسية
- عرض العقارات المميزة
- عرض العقارات الحديثة
- شريط البحث
- إحصائيات

### صفحة العقارات
- قائمة كاملة بالعقارات
- فلترة وبحث متقدم
- ترقيم الصفحات

### تفاصيل العقار
- معلومات كاملة عن العقار
- معرض الصور
- معلومات الوكيل
- خريطة الموقع

### المفضلة
- حفظ العقارات المفضلة محلياً
- إدارة قائمة المفضلة

## 🛠️ استكشاف الأخطاء

### خطأ في الاتصال
```bash
# التحقق من الاتصال بالإنترنت
ping albrog.com

# التحقق من SSL
curl -I https://albrog.com/api/
```

### مشاكل Flutter
```bash
# إعادة تثبيت التبعيات
flutter clean
flutter pub get

# إعادة تشغيل الجهاز المحاكي
flutter devices
flutter run
```

### مشاكل API
1. تحقق من أن الخادم يعمل
2. تحقق من CORS headers
3. تحقق من اتصال قاعدة البيانات

## 📱 اختبار المميزات

### 1. الصفحة الرئيسية
- ✅ تحميل العقارات المميزة
- ✅ تحميل العقارات الحديثة
- ✅ البحث السريع

### 2. صفحة البحث
- ✅ البحث بالنص
- ✅ فلترة بالنوع
- ✅ فلترة بالسعر
- ✅ فلترة بعدد الغرف

### 3. المفضلة
- ✅ إضافة/إزالة المفضلة
- ✅ حفظ البيانات محلياً

## 🌐 بيانات API المتاحة

### إحصائيات حالية (من API):
- إجمالي العقارات: **32 عقار**
- العقارات المميزة: **0 عقار** (يحتاج تفعيل)
- إجمالي المستخدمين: **34 مستخدم**

### تحسينات مطلوبة:
1. **تفعيل العقارات المميزة**: في لوحة تحكم WordPress
2. **إضافة صور للعقارات**: رفع صور عالية الجودة
3. **مراجعة بيانات العقارات**: التأكد من اكتمال المعلومات

## 📞 الدعم التقني

في حالة وجود مشاكل:
1. تحقق من `flutter doctor`
2. تحقق من اتصال الإنترنت
3. اختبر API من المتصفح
4. راجع logs في الـ terminal

## 🎉 النتيجة المتوقعة

بعد اتباع هذا الدليل:
- ✅ تطبيق Flutter يعمل بنجاح
- ✅ الاتصال بقاعدة البيانات الحقيقية
- ✅ عرض العقارات الفعلية من موقع البروج
- ✅ جميع المميزات تعمل بشكل صحيح

---

**🏠 شركة البروج للتطوير العقاري**  
*نصنع رقي الحياة* 